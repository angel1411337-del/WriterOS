# ============================================================================
# WriterOS Environment Configuration Template
# ============================================================================
# Copy this file to .env and fill in your actual values
# NEVER commit .env file to version control!

# ----------------------------------------------------------------------------
# 1. Database Configuration (REQUIRED)
# ----------------------------------------------------------------------------
# PostgreSQL connection string for WriterOS database
# Format: postgresql://username:password@host:port/database
# Example: postgresql://writer:mypassword@localhost:5432/writeros
DATABASE_URL=postgresql://user:password@localhost:5432/writeros

# ----------------------------------------------------------------------------
# 2. OpenAI API Key (REQUIRED)
# ----------------------------------------------------------------------------
# Required for:
# - LLM-powered agents (GPT-4, GPT-4o)
# - Text embeddings (text-embedding-3-small)
# - Smart content analysis
# Get your key at: https://platform.openai.com/api-keys
OPENAI_API_KEY=sk-proj-your-key-here

# ----------------------------------------------------------------------------
# 3. YouTube Data API Key (OPTIONAL - for legacy scripts)
# ----------------------------------------------------------------------------
# Required for: Fetching video metadata and transcript availability
# Get it here: https://console.cloud.google.com/apis/credentials
# Note: Only needed if using legacy YouTube transcript scripts
YOUTUBE_API_KEY=your-youtube-api-key-here

# ----------------------------------------------------------------------------
# 4. Obsidian Vault Path (OPTIONAL)
# ----------------------------------------------------------------------------
# Path to your Obsidian vault for automatic note interlinking
# The system will scan this folder to find existing notes
# and automatically create Wikilinks [[Concepts]] that match.
#
# Windows Example: C:\Users\Username\Documents\Obsidian\MyVault
# Mac/Linux Example: /Users/Username/Documents/Obsidian/MyVault
# Default: ./output (creates folder next to the script)
OBSIDIAN_VAULT_PATH=./output

# ----------------------------------------------------------------------------
# 5. LangSmith Tracing (OPTIONAL - Recommended for debugging)
# ----------------------------------------------------------------------------
# LangSmith provides automatic tracing and observability for LangChain/LangGraph
# Sign up at: https://smith.langchain.com/
# Benefits:
# - Automatic tracing of all LLM calls and agent executions
# - Debug complex agent workflows visually
# - Monitor performance and costs
# - Share traces with team members

# Enable LangSmith tracing (true/false)
# Default: false
LANGCHAIN_TRACING_V2=false

# Your LangSmith API key (required if tracing enabled)
# Get it at: https://smith.langchain.com/settings
LANGCHAIN_API_KEY=your-langsmith-api-key-here

# LangSmith project name (organizes traces)
# Default: writeros
LANGCHAIN_PROJECT=writeros

# ----------------------------------------------------------------------------
# 6. Logging Configuration (OPTIONAL)
# ----------------------------------------------------------------------------
# Log level: DEBUG, INFO, WARNING, ERROR, CRITICAL
# Default: INFO
LOG_LEVEL=INFO

# ----------------------------------------------------------------------------
# 7. Performance Tuning (OPTIONAL - Advanced)
# ----------------------------------------------------------------------------
# Database Connection Pooling - Improves performance by reusing connections
# Expected improvement: 5x-10x throughput under concurrent load

# Pool size - Number of persistent database connections maintained
# Increase for high-concurrency workloads (many simultaneous queries)
# Too low: Connection timeouts under load
# Too high: May exceed database connection limit
# Default: 20 (good for most applications)
DB_POOL_SIZE=20

# Max overflow - Additional temporary connections beyond pool_size
# Allows handling traffic spikes without dropping requests
# Default: 40 (total 60 connections max)
DB_MAX_OVERFLOW=40

# Pool recycle time (seconds) - Recycle connections after this duration
# Prevents "server closed connection" errors from idle timeouts
# Most databases close idle connections after 1-8 hours
# Default: 3600 (1 hour)
DB_POOL_RECYCLE=3600

# Pool pre-ping - Test connections before use to catch stale connections
# Adds tiny overhead but prevents errors from expired connections
# Default: true (recommended for production)
DB_POOL_PRE_PING=true

# Performance Tuning Guidelines:
# - Low traffic (<10 req/s): Default settings work fine
# - Medium traffic (10-100 req/s): Increase pool_size to 50
# - High traffic (>100 req/s): pool_size=100, max_overflow=100
# - Monitor: Check database connection count with pg_stat_activity